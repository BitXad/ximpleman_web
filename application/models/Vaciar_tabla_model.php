<?php
/* 
 * Generated by CRUDigniter v3.2 
 * www.crudigniter.com
 */
 
class Vaciar_tabla_model extends CI_Model
{
    function __construct()
    {
        parent::__construct();
    }
    
    /* ***** Inserta los nuevos tados ***** */
    function insertar_datos($sql)
    {
        $sql1 = file_get_contents($sql);
        $sqls = explode(';', $sql1);
        array_pop($sqls);

        foreach($sqls as $statement){
                $statment = $statement . ";";
                $this->db->query($statement);	
        }
        //$this->db->multi_query(file_get_contents($sql));
        //$insertar = $this->db->query($sql);
        //$ingreso_id = $this->db->insert_id();
        return true; //$ingreso_id;
    }
    
    function vaciar_tabla($tabla_nombre)
    {
        $truncar = $this->db->query("
            truncate ".$tabla_nombre."

        ");

        return true;
    }
    
    function get_all_tabla()
    {
        $vaciar_tabla = $this->db->query("
            SELECT
                *

            FROM
                `tabla`

        ")->result_array();

        return $vaciar_tabla;
    }
    
    /* ***** obtiene todas las tablas de la BD... ***** */
    function get_alltablas()
    {
        $vaciar_tabla = $this->db->query("
            SHOW FULL TABLES FROM ximpleman_web
            where table_type = 'base table'

        ")->result_array();

        return $vaciar_tabla;
    }
}
